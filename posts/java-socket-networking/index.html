<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Md. Jehadul Karim ">
<meta name="description" content="Networking  By Md. Jehadul Karim
 Prerequisite:
 Threading  Recommended:
 Input &amp;amp; Output Stream  So, how do you do Networking. Lets dive into the basics of networking.
Basics of Networking First of all you need to understand how networking is done. There are two types of connection (as far as I know):
 TCP UDP  In this tutorial, I am only going to talk about TCP Networking." />
<meta name="keywords" content=", Java, Socket, Networing, TCP" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://MJKSabit.github.io/posts/java-socket-networking/" />


    <title>
        
            Java Socket Networking :: MJKSabit@github.io 
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.1/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="/main.f50c2508a08714abc80037bedef1823eabe59c205604e9e34632b7005690234c.css">






<meta itemprop="name" content="Java Socket Networking">
<meta itemprop="description" content="Networking  By Md. Jehadul Karim
 Prerequisite:
 Threading  Recommended:
 Input &amp; Output Stream  So, how do you do Networking. Lets dive into the basics of networking.
Basics of Networking First of all you need to understand how networking is done. There are two types of connection (as far as I know):
 TCP UDP  In this tutorial, I am only going to talk about TCP Networking.">
<meta itemprop="datePublished" content="2020-12-02T22:17:02&#43;06:00" />
<meta itemprop="dateModified" content="2020-12-02T22:17:02&#43;06:00" />
<meta itemprop="wordCount" content="1624">
<meta itemprop="image" content="https://MJKSabit.github.io"/>



<meta itemprop="keywords" content="Java,Socket,Networing,TCP," />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://MJKSabit.github.io"/>

<meta name="twitter:title" content="Java Socket Networking"/>
<meta name="twitter:description" content="Networking  By Md. Jehadul Karim
 Prerequisite:
 Threading  Recommended:
 Input &amp; Output Stream  So, how do you do Networking. Lets dive into the basics of networking.
Basics of Networking First of all you need to understand how networking is done. There are two types of connection (as far as I know):
 TCP UDP  In this tutorial, I am only going to talk about TCP Networking."/>







    <meta property="article:published_time" content="2020-12-02 22:17:02 &#43;0600 &#43;06" />








    </head>

    <body class="dark-theme">
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">MJKSabit@github.io </span>
            <span class="logo__cursor" style=
                  "
                   background-color:#149414;
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="https://MJKSabit.github.io/posts">Blog</a></li><li><a href="https://MJKSabit.github.io/projects">Projects</a></li><li><a href="https://MJKSabit.github.io/about">About</a></li><li><a href="https://MJKSabit.github.io/resume">Resume</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            

            <span class="theme-toggle unselectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>
</span>
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="https://MJKSabit.github.io/posts/java-socket-networking/">Java Socket Networking</a></h2>

            

            <div class="post-content">
                <h1 id="networking">Networking</h1>
<blockquote>
<p>By <a href="www.github.com/MJKSabit">Md. Jehadul Karim</a></p>
</blockquote>
<p>Prerequisite:</p>
<ul>
<li>Threading</li>
</ul>
<p>Recommended:</p>
<ul>
<li>Input &amp; Output Stream</li>
</ul>
<p>So, how do you do Networking. Lets dive into the <strong>basics of networking</strong>.</p>
<h2 id="basics-of-networking">Basics of Networking</h2>
<p>First of all you need to understand how networking is done. There are two types of connection (as far as I know):</p>
<ol>
<li>TCP</li>
<li>UDP</li>
</ol>
<p>In this tutorial, I am only going to talk about <strong>TCP Networking</strong>. In TCP networking there exists a <strong>server</strong> which creates connection between two sockets. <strong>A network connection</strong> should contain <strong>two sockets</strong>, one at <strong>Server-End</strong> and other at <strong>Client-End</strong>.</p>
<h2 id="socket-networking">Socket Networking</h2>
<p>A <strong>Socket</strong> exposes some interface to send and receive data from one socket to other when <strong>a network</strong> is established. To relate, you can consider <code>cin</code> as the interface to get (<em>read</em>) and <code>cout</code> as the interface to write (<em>send</em>).</p>
<h3 id="server-client-networking">Server-Client Networking</h3>
<p>A client can not directly communicate with other client directly. They need to <strong>get connected first</strong>. After getting connected, there will be <strong>two Sockets</strong> at both ends (<em>Server and Client</em>).</p>
<blockquote>
<p>There is no difference between a server-side socket and client-side socket.</p>
</blockquote>
<p>The socket read/write interface are relative to the side socket is in. These are not absolute. For example, If I <strong>write</strong> on one of the sockets (eg. Client-SIde), then I must <strong>read</strong> from the other socket (eg. Server-Side). You should not confuse to use <strong>write</strong> interface on both side to access the data.</p>
<table>
<thead>
<tr>
<th>Socket On One Side</th>
<th align="center"></th>
<th>Socket On other Side</th>
</tr>
</thead>
<tbody>
<tr>
<td>write(data)</td>
<td align="center">&ndash;&gt;</td>
<td>read() : returns data</td>
</tr>
<tr>
<td>read() : returns data</td>
<td align="center">&lt;&ndash;</td>
<td>write(data)</td>
</tr>
</tbody>
</table>
<h1 id="socket-networking-in-java">Socket Networking in JAVA</h1>
<hr>
<h2 id="prework">Prework</h2>
<p>Before using socket, we have to connect two sockets at two ends. The basic way of doing this is to <strong>wait for other to connect</strong> (<em>listening</em>). It is done at the server side. To listen for a connection in server side, we have to use a java class, <code>ServerSocket</code>, Using this class we can start a connection and two sockets to communicate with.</p>
<h3 id="initialization">Initialization</h3>
<p>To start a ServerSocket, you first have to create an instance of it with the <strong>port</strong> you want to serve to.
<code>ServerSocket server = new ServerSocket(PORT);</code></p>
<blockquote>
<p>PORT can be any positive integer from 0 to 2^16-1, But my suggestion would be using port higher than 10000. You have to <strong>note down the PORT</strong> as the same PORT will be used in the client side.</p>
</blockquote>
<h3 id="connecting">Connecting&hellip;</h3>
<p>After the instance is being created, you can now <strong>wait</strong> for client to be connected on the same port.
<code>Socket clientSocket = server.accept();</code></p>
<h3 id="connected">Connected</h3>
<p>When a client is connected to the server, we will have the the socket in the <code>clientSocket</code> and use it to send and receive data to and from client.</p>
<h3 id="close-serversocket">Close ServerSocket</h3>
<p>You should always close the <code>ServerSocket</code> to release the PORT to be used by other applications by calling:
<code>server.close()</code></p>
<h3 id="connect-from-client-side">Connect from Client Side</h3>
<p>Just initialize a <code>Socket</code> instance, just use <code>127.0.0.1</code> as hostname and the same PORT that was used in Server Side.
<code>Socket socketServer = new Socket(&quot;127.0.0.1&quot;, PORT);</code></p>
<h3 id="current-code">Current Code</h3>
<p><code>Server.java</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">import</span> java.net.ServerSocket<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.net.Socket<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Server</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">int</span> PORT <span style="color:#f92672">=</span> 12345<span style="color:#f92672">;</span>
    
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        ServerSocket server <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
        Socket clientSocket <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
        <span style="color:#66d9ef">try</span><span style="color:#f92672">{</span>
        	server <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ServerSocket<span style="color:#f92672">(</span>PORT<span style="color:#f92672">);</span>
        	clientSocket <span style="color:#f92672">=</span> server<span style="color:#f92672">.</span><span style="color:#a6e22e">accept</span><span style="color:#f92672">();</span>
            server<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
           	System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Client Connected&#34;</span><span style="color:#f92672">);</span>
            <span style="color:#75715e">// DO YOUR WORK WITH SOCKET HERE
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// THEN CLOSE IT
</span><span style="color:#75715e"></span>            clientSocket<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Exception e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// Ignored for Simplicity
</span><span style="color:#75715e"></span>        <span style="color:#f92672">}</span> <span style="color:#66d9ef">finally</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// Free up Resources by CLOSING them
</span><span style="color:#75715e"></span>        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p><code>Client.java</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">import</span> java.net.Socket<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Client</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">int</span> PORT <span style="color:#f92672">=</span> 12345<span style="color:#f92672">;</span>
	
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    	<span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
            Socket socketServer <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Socket<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;127.0.0.1&#34;</span><span style="color:#f92672">,</span> PORT<span style="color:#f92672">);</span>
            <span style="color:#75715e">// DO YOUR WORK WITH SOCKET HERE
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// THEN CLOSE IT
</span><span style="color:#75715e"></span>            socketServer<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Exception e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// Ignored for Simplicity
</span><span style="color:#75715e"></span>        <span style="color:#f92672">}</span> <span style="color:#66d9ef">finally</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// Free up Resources by CLOSING them
</span><span style="color:#75715e"></span>        <span style="color:#f92672">}</span>
	<span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>


</code></pre></div><blockquote>
<p>You must <strong>allow parallel run</strong> from [ Run ] &gt; [ Edit Configuration ] and run two classes in separate projects as they will have be run simultaneously</p>
<ol>
<li>Run Server First</li>
<li>Then Run Client</li>
</ol>
</blockquote>
<h2 id="socket">Socket</h2>
<p>Networking through <code>Socket</code> includes <strong>Sending</strong> and <strong>Receiving</strong> data as I have mentioned earlier. This can be done using <code>OutputStream</code> and <code>InputStream</code>. <code>Socket</code> class has methods for directly accessing these steams.</p>
<p><code>InputSteam in = clientSocket.getInputSteam();</code>
<code>OutputStream out = serverSocket.getOutputSteam();</code></p>
<p><code>OutputStream</code> and <code>InputStream</code> has limited numbers of methods to send and receive data. Simple <code>in.read()</code> will read an <code>int</code> and <code>out.write(INT)</code> will send an <code>INT</code> to the other side.</p>
<blockquote>
<p>Steams must be <strong>closed</strong> by calling <code>close()</code></p>
</blockquote>
<h3 id="current-code-1">Current Code</h3>
<p><code>Server.java</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">import</span> java.net.ServerSocket<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.net.Socket<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Server</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">int</span> PORT <span style="color:#f92672">=</span> 12345<span style="color:#f92672">;</span>
    
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        ServerSocket server <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
        Socket clientSocket <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
        <span style="color:#66d9ef">try</span><span style="color:#f92672">{</span>
        	server <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ServerSocket<span style="color:#f92672">(</span>PORT<span style="color:#f92672">);</span>
        	clientSocket <span style="color:#f92672">=</span> server<span style="color:#f92672">.</span><span style="color:#a6e22e">accept</span><span style="color:#f92672">();</span>
            server<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
           	System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Client Connected&#34;</span><span style="color:#f92672">);</span>
            <span style="color:#75715e">// DO YOUR WORK WITH SOCKET HERE
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// Getting I/O Stream
</span><span style="color:#75715e"></span>            OutputStream out <span style="color:#f92672">=</span> clientSocket<span style="color:#f92672">.</span><span style="color:#a6e22e">getOutputSteam</span><span style="color:#f92672">();</span>
            InputStream in <span style="color:#f92672">=</span> clientSocket<span style="color:#f92672">.</span><span style="color:#a6e22e">getInputSteam</span><span style="color:#f92672">();</span>
            
            <span style="color:#75715e">// Simple Integer Value Sending...
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">int</span> DATA <span style="color:#f92672">=</span> 12345<span style="color:#f92672">;</span>
            out<span style="color:#f92672">.</span><span style="color:#a6e22e">write</span><span style="color:#f92672">(</span>DATA<span style="color:#f92672">);</span> <span style="color:#75715e">// CHANGE 12345 to test
</span><span style="color:#75715e"></span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;DATA sent: &#34;</span> <span style="color:#f92672">+</span> DATA<span style="color:#f92672">);</span>
            
            <span style="color:#75715e">// THEN CLOSE IT
</span><span style="color:#75715e"></span>            in<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
            out<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
            clientSocket<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Exception e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// Ignored for Simplicity
</span><span style="color:#75715e"></span>        <span style="color:#f92672">}</span> <span style="color:#66d9ef">finally</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// Free up Resources by CLOSING them
</span><span style="color:#75715e"></span>        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p><code>Client.java</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">import</span> java.net.Socket<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Client</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">int</span> PORT <span style="color:#f92672">=</span> 12345<span style="color:#f92672">;</span>
	
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    	<span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
            Socket socketServer <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Socket<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;127.0.0.1&#34;</span><span style="color:#f92672">,</span> PORT<span style="color:#f92672">);</span>
            <span style="color:#75715e">// DO YOUR WORK WITH SOCKET HERE
</span><span style="color:#75715e"></span>            
            <span style="color:#75715e">// Getting I/O Stream
</span><span style="color:#75715e"></span>            OutputStream out <span style="color:#f92672">=</span> socketClient<span style="color:#f92672">.</span><span style="color:#a6e22e">getOutputSteam</span><span style="color:#f92672">();</span>
            InputStream in <span style="color:#f92672">=</span> socketClient<span style="color:#f92672">.</span><span style="color:#a6e22e">getInputSteam</span><span style="color:#f92672">();</span>
            
            <span style="color:#75715e">// Simple Integer Value Sending...
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">int</span> DATA<span style="color:#f92672">;</span>
            DATA <span style="color:#f92672">=</span> in<span style="color:#f92672">.</span><span style="color:#a6e22e">read</span><span style="color:#f92672">();</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;DATA received: &#34;</span> <span style="color:#f92672">+</span> DATA<span style="color:#f92672">);</span>
            
            <span style="color:#75715e">// THEN CLOSE IT
</span><span style="color:#75715e"></span>            in<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
            out<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
            socketServer<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Exception e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// Ignored for Simplicity
</span><span style="color:#75715e"></span>        <span style="color:#f92672">}</span> <span style="color:#66d9ef">finally</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// Free up Resources by CLOSING them
</span><span style="color:#75715e"></span>        <span style="color:#f92672">}</span>
	<span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>


</code></pre></div><h2 id="reader--writer">Reader &amp; Writer</h2>
<p>You normally don&rsquo;t use Input &amp; Output Stream directly. We wrap them within another class to get some extra functionalities. For example, we could have directly used <code>System.in</code> instead of using <code>new Scanner(System.in)</code>, But the <code>Scanner</code> provides much more functionalities to access data.</p>
<p>Here we will use <code>BufferedReader</code> and <code>BufferedWriter</code>. They provide functions to directly send and receive <code>String</code> over the I/O Streams.</p>
<h3 id="bufferedreader">BufferedReader</h3>
<p>This one is used with <code>InputStream</code>, to get an instance of this, use:
<code>BufferedReader reader = new BufferedReader(new InputStreamReader(in));</code></p>
<p><code>BufferedReader</code> has a method <code>readLine()</code> to directly read a <code>String</code> from the stream.
<code>String input = reader.readLine();</code></p>
<h3 id="bufferedwriter">BufferedWriter</h3>
<p>This one is used with <code>OutputStream</code>, to get an instance of this, use:
<code>BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(out));</code></p>
<p><code>BufferedReader</code> has a method <code>write(String)</code> to directly send a <code>String</code> from the stream. Be careful to include a <code>\n</code> in the end of the String or call <code>newLine()</code> method, else <code>readLine()</code> from the otherside will not be able to read the steam,</p>
<p><code>writer.write(&quot;Hello World!&quot;);</code>
<code>write.newLine()</code></p>
<h3 id="current-code-2">Current Code</h3>
<p><code>Server.java</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">import</span> java.net.ServerSocket<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.net.Socket<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Server</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">int</span> PORT <span style="color:#f92672">=</span> 12345<span style="color:#f92672">;</span>
    
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        ServerSocket server <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
        Socket clientSocket <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
        <span style="color:#66d9ef">try</span><span style="color:#f92672">{</span>
        	server <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ServerSocket<span style="color:#f92672">(</span>PORT<span style="color:#f92672">);</span>
        	clientSocket <span style="color:#f92672">=</span> server<span style="color:#f92672">.</span><span style="color:#a6e22e">accept</span><span style="color:#f92672">();</span>
            server<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
           	System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Client Connected&#34;</span><span style="color:#f92672">);</span>
            <span style="color:#75715e">// DO YOUR WORK WITH SOCKET HERE
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// Getting I/O Stream
</span><span style="color:#75715e"></span>            OutputStream out <span style="color:#f92672">=</span> clientSocket<span style="color:#f92672">.</span><span style="color:#a6e22e">getOutputSteam</span><span style="color:#f92672">();</span>
            InputStream in <span style="color:#f92672">=</span> clientSocket<span style="color:#f92672">.</span><span style="color:#a6e22e">getInputSteam</span><span style="color:#f92672">();</span>
            
            <span style="color:#75715e">// Simple String Value Sending...
</span><span style="color:#75715e"></span>            BufferedWriter writer <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> BufferedWriter<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> InputStreamWriter<span style="color:#f92672">(</span>out<span style="color:#f92672">));</span>
            writer<span style="color:#f92672">.</span><span style="color:#a6e22e">write</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Hello World from Server.&#34;</span><span style="color:#f92672">);</span>
            writer<span style="color:#f92672">.</span><span style="color:#a6e22e">newLine</span><span style="color:#f92672">();</span>
            
            <span style="color:#75715e">// THEN CLOSE IT
</span><span style="color:#75715e"></span>            in<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
            out<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
            clientSocket<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Exception e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// Ignored for Simplicity
</span><span style="color:#75715e"></span>        <span style="color:#f92672">}</span> <span style="color:#66d9ef">finally</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// Free up Resources by CLOSING them
</span><span style="color:#75715e"></span>        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p><code>Client.java</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">import</span> java.net.Socket<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Client</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">int</span> PORT <span style="color:#f92672">=</span> 12345<span style="color:#f92672">;</span>
	
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    	<span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
            Socket socketServer <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Socket<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;127.0.0.1&#34;</span><span style="color:#f92672">,</span> PORT<span style="color:#f92672">);</span>
            <span style="color:#75715e">// DO YOUR WORK WITH SOCKET HERE
</span><span style="color:#75715e"></span>            
            <span style="color:#75715e">// Getting I/O Stream
</span><span style="color:#75715e"></span>            OutputStream out <span style="color:#f92672">=</span> socketClient<span style="color:#f92672">.</span><span style="color:#a6e22e">getOutputSteam</span><span style="color:#f92672">();</span>
            InputStream in <span style="color:#f92672">=</span> socketClient<span style="color:#f92672">.</span><span style="color:#a6e22e">getInputSteam</span><span style="color:#f92672">();</span>
            
            <span style="color:#75715e">// Simple Integer Value Sending...
</span><span style="color:#75715e"></span>            BufferedReader reader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> BufferedReader<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> InputStreamReader<span style="color:#f92672">(</span>in<span style="color:#f92672">));</span>
            <span style="color:#75715e">// Read String Value
</span><span style="color:#75715e"></span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>reader<span style="color:#f92672">.</span><span style="color:#a6e22e">readLine</span><span style="color:#f92672">());</span>
            
            <span style="color:#75715e">// THEN CLOSE IT
</span><span style="color:#75715e"></span>            in<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
            out<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
            socketServer<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Exception e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// Ignored for Simplicity
</span><span style="color:#75715e"></span>        <span style="color:#f92672">}</span> <span style="color:#66d9ef">finally</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// Free up Resources by CLOSING them
</span><span style="color:#75715e"></span>        <span style="color:#f92672">}</span>
	<span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>


</code></pre></div><h2 id="heading"></h2>
<p>You can try sending different string, or even multiple strings. Just use these methods and you are good to go&hellip;</p>
<h2 id="multi-client-network">Multi-client Network</h2>
<p>This is where threading comes in. A server might need to be connected to multiple client at the same time. To connect with other client, server must always <strong>listen</strong> using <code>server.accept()</code>, it is a <strong>BLOCKING</strong> function. So, to perform other actions with other connected clients, <strong>All clients must be in different threads from <code>server.accept()</code></strong>.</p>
<blockquote>
<p>**BLOCKING: **Example, <code>scanner.readLine()</code>, program will not proceed until input has been given. **Blocks **the program.</p>
</blockquote>
<p>To connect multiple client, we can use java <code>Therad</code> like below:</p>
<h3 id="current-code-3">Current Code</h3>
<p><code>Server.java</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">import</span> java.net.ServerSocket<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.net.Socket<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Server</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">int</span> PORT <span style="color:#f92672">=</span> 12345<span style="color:#f92672">;</span>
    
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        ServerSocket server <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
        Socket clientSocket <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
        <span style="color:#66d9ef">try</span><span style="color:#f92672">{</span>
        	server <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ServerSocket<span style="color:#f92672">(</span>PORT<span style="color:#f92672">);</span>
            <span style="color:#66d9ef">for</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span>1<span style="color:#f92672">;</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">;</span> i<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
                clientSocket <span style="color:#f92672">=</span> server<span style="color:#f92672">.</span><span style="color:#a6e22e">accept</span><span style="color:#f92672">();</span>
                <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(){</span>
                    Socket socket <span style="color:#f92672">=</span> clientSocket<span style="color:#f92672">;</span>
                    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Client #&#34;</span><span style="color:#f92672">+</span>i<span style="color:#e6db74">&#34; Connected&#34;</span><span style="color:#f92672">);</span>
            		<span style="color:#75715e">// DO YOUR WORK WITH SOCKET HERE
</span><span style="color:#75715e"></span>         		   	<span style="color:#75715e">// Getting I/O Stream
</span><span style="color:#75715e"></span>            		OutputStream out <span style="color:#f92672">=</span> socket<span style="color:#f92672">.</span><span style="color:#a6e22e">getOutputSteam</span><span style="color:#f92672">();</span>
            		InputStream in <span style="color:#f92672">=</span> socket<span style="color:#f92672">.</span><span style="color:#a6e22e">getInputSteam</span><span style="color:#f92672">();</span>
            
            		<span style="color:#75715e">// Simple String Value Sending...
</span><span style="color:#75715e"></span>        	    	BufferedWriter writer <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> BufferedWriter<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> OutputStreamWriter<span style="color:#f92672">(</span>out<span style="color:#f92672">));</span>
    	        	writer<span style="color:#f92672">.</span><span style="color:#a6e22e">write</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Hello World from Server to Client #&#34;</span><span style="color:#f92672">+</span>i<span style="color:#f92672">);</span>
	            	writer<span style="color:#f92672">.</span><span style="color:#a6e22e">newLine</span><span style="color:#f92672">();</span>
            
            		<span style="color:#75715e">// THEN CLOSE IT
</span><span style="color:#75715e"></span>            		in<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
            		out<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
            		socket<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
                <span style="color:#f92672">}.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
            <span style="color:#f92672">}</span>
        	
            server<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Exception e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// Ignored for Simplicity
</span><span style="color:#75715e"></span>        <span style="color:#f92672">}</span> <span style="color:#66d9ef">finally</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// Free up Resources by CLOSING them
</span><span style="color:#75715e"></span>        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p><code>Client.java</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">import</span> java.net.Socket<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Client</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">int</span> PORT <span style="color:#f92672">=</span> 12345<span style="color:#f92672">;</span>
	
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    	<span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
            Socket socketServer <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Socket<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;127.0.0.1&#34;</span><span style="color:#f92672">,</span> PORT<span style="color:#f92672">);</span>
            <span style="color:#75715e">// DO YOUR WORK WITH SOCKET HERE
</span><span style="color:#75715e"></span>            
            <span style="color:#75715e">// Getting I/O Stream
</span><span style="color:#75715e"></span>            OutputStream out <span style="color:#f92672">=</span> socketClient<span style="color:#f92672">.</span><span style="color:#a6e22e">getOutputSteam</span><span style="color:#f92672">();</span>
            InputStream in <span style="color:#f92672">=</span> socketClient<span style="color:#f92672">.</span><span style="color:#a6e22e">getInputSteam</span><span style="color:#f92672">();</span>
            
            <span style="color:#75715e">// Simple Integer Value Sending...
</span><span style="color:#75715e"></span>            BufferedReader reader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> BufferedReader<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> InputStreamReader<span style="color:#f92672">(</span>in<span style="color:#f92672">));</span>
            <span style="color:#75715e">// Read String Value
</span><span style="color:#75715e"></span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>reader<span style="color:#f92672">.</span><span style="color:#a6e22e">readLine</span><span style="color:#f92672">());</span>
            
            <span style="color:#75715e">// THEN CLOSE IT
</span><span style="color:#75715e"></span>            in<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
            out<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
            socketServer<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Exception e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// Ignored for Simplicity
</span><span style="color:#75715e"></span>        <span style="color:#f92672">}</span> <span style="color:#66d9ef">finally</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// Free up Resources by CLOSING them
</span><span style="color:#75715e"></span>        <span style="color:#f92672">}</span>
	<span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>


</code></pre></div><h2 id="heading-1"></h2>
<p>Thats all for Today.</p>
<p><strong>Happy Coding</strong></p>

            </div>
        </article>

        <hr />

        <div class="post-info">
  				<p>
  					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg><span class="tag"><a href="https://MJKSabit.github.io/tags/java">Java</a></span><span class="tag"><a href="https://MJKSabit.github.io/tags/socket">Socket</a></span><span class="tag"><a href="https://MJKSabit.github.io/tags/networing">Networing</a></span><span class="tag"><a href="https://MJKSabit.github.io/tags/tcp">TCP</a></span>
  				</p>
  		</div>
    </main>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2020</span>
            
                <span><a href="https://MJKSabit.github.io">Md. Jehadul Karim</a></span>
            
            
            <span> <a href="https://MJKSabit.github.io/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
        </div>
    </div>
</footer>

            
        </div>

        




<script type="text/javascript" src="/bundle.min.dc716e9092c9820b77f96da294d0120aeeb189b5bcea9752309ebea27fd53bbe6b13cffb2aca8ecf32525647ceb7001f76091de4199ac5a3caa432c070247f5b.js" integrity="sha512-3HFukJLJggt3&#43;W2ilNASCu6xibW86pdSMJ6&#43;on/VO75rE8/7KsqOzzJSVkfOtwAfdgkd5BmaxaPKpDLAcCR/Ww=="></script>



    </body>
</html>
